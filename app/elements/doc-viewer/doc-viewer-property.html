<link rel="import" href="../../bower_components/marked-element/marked-element.html">

<dom-module id="doc-viewer-property">
  <style>
    :host {
      display: block;
      padding: 12px 24px;
    }

    h4 {
      width: 180px;
      margin: 0;
    }
    h4, #prop-name, #prop-type {
      line-height: 24px;
      font-family: Inconsolata, monospace;
      font-size: 14px;
      font-weight: bold;
    }
    
    marked-element::shadow p:first-child { margin-top: 0; }
    marked-element::shadow p:last-child { margin-bottom: 0; }
  </style>
  <template>
    <div class="layout horizontal">
      <h4 id="prop-name">[[_name]]</h4>
      <div class="flex layout vertical">
        <div class="layout horizontal">
          <span id="prop-type" class="flex">[[prop.type]]</span>
        </div>
        <marked-element markdown="[[prop.desc]]"></marked-element>
      </div>
    </div>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'doc-viewer-property',
    properties: {
      dashed: {type: Boolean, value: false},
      prop: Object,
      _name: {type: String, computed: 'computeName(prop, dashed)'}
    },
    computeName: function(prop, dashed) {
      if (dashed) {
        console.log('dashed', prop.name);
        return Polymer.CaseMap.camelToDashCase(prop.name);
      } else {
        console.log('non-dashed', prop.name);
        return prop.name;
      }
    }
  });
</script>